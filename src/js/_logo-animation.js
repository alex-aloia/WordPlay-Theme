pathTL = new TimelineLite({paused: true, delay: 0.2});

var animPath = function (path, time, delay) {

    pathLength = path.length();
    function animate() {
        pathTL.add(TweenLite.to(path.node, time, {strokeDashoffset: 0, delay: delay}));
        //    pathTL.add( TweenLite.to(t3iTxt.node, 1.5, {opacity:0,delay:3}) );
        pathTL.play();
    }

    pathTL.add(TweenLite.set(path.node, {
        strokeDasharray: pathLength,
        strokeDashoffset: pathLength,
        onComplete: animate
    }));
};


window.onload = function () {


    var aLogo = SVG('aLogo').size(800, 400),
        path = aLogo.group();


    //<path id="bezier11" stroke="none" fill="rgb(83, 83, 83)" d="" />
    //<path id="bezier12" stroke="none" fill="rgb(83, 83, 83)" d="" />
    //<path id="bezier13" stroke="none" fill="rgb(83, 83, 83)" d="" />
    //<path id="bezier14" stroke="none" fill="rgb(83, 83, 83)" d="" />
    //<path id="bezier15" stroke="none" fill="rgb(83, 83, 83)" d="" />
    //<path id="bezier16" stroke="none" fill="rgb(83, 83, 83)" d="" />
    //<path id="bezier17" stroke="none" fill="rgb(83, 83, 83)" d="" />
    //<path id="bezier18" stroke="none" fill="rgb(83, 83, 83)" d="" />


    var p_a1 = path.path('M 67.48,177.42 C 63.18,184.62 58.2,192.5 53.8,199.9 L 160.8,199.9 C 133.8,153.3 107.2,107.5 80.1,60.7 53.2,107.6 26.8,153.6 0.1,200.2 L 27.3,200.2 C 44.9,169.5 62.15,139.83 80.45,107.93 94.65,132.43 107.13,153.49 121.03,177.39 102.03,177.39 85.48,177.42 67.48,177.42 Z M 67.48,177.42'),
        p_l1 = path.path('M 108.15,81.75 C 130.95,121.55 153.35,160.95 175.65,199.95 184.55,199.95 192.85,199.95 201.85,199.95 179.05,160.15 156.65,120.75 134.35,81.75 125.45,81.75 117.25,81.75 108.15,81.75 Z M 108.15,81.75'),
        p_e1 = path.path('M 253.17,150.6 C 246.17,163.6 239.07,175.2 231.37,188.5 226.97,181 223.27,174.7 219.47,168.3 230.77,148.3 241.77,129.6 253.07,108.6 L 162.97,108.6 C 185.87,148.6 208.37,186.8 231.37,226.3 246.07,200.6 260.53,176.6 275.03,150.6 L 253.17,150.6 Z M 195.47,128.6 L 220.37,128.6 C 216.47,135.6 212.87,142.2 208.57,150 204.07,142.5 200.17,136.6 195.47,128.6 Z M 195.47,128.6'),
        p_x1 = path.path('M 315.81,148.8 C 329.01,125.9 341.7,103.85 355.1,80.75 L 329.2,80.75 C 320.2,95.85 311.93,110.82 302.83,126.32 298.83,119.62 295.4,113.75 292,107.95 L 266.2,107.95 C 274.2,121.95 282.03,135.08 289.83,148.78 275.63,173.88 261.2,199.25 246.7,224.85 L 272.2,224.85 C 282.2,207.65 292.12,189.75 302.83,171.25 308.73,181.55 314.7,191.05 319.8,199.95 L 337.8,199.95 337.7,187.05 C 330,173.95 323.01,161.1 315.81,148.8 Z M 315.81,148.8'),
        p_a2 = path.path('M 382.3,199.85 C 418.4,199.95 453.3,199.95 489.5,199.95 462.3,153.15 435.7,107.25 408.6,60.55 384.3,102.95 360.8,144.65 336.5,187.05 L 336.6,199.95 355,199.95 C 372.7,169.15 390.4,138.35 408.7,106.45 422.9,131.05 436.3,154.05 450.2,178.05 L 395.3,178.05 C 391,185.25 386.8,192.25 382.3,199.85 Z M 382.3,199.85'),
        p_l2 = path.path('M 531.1,199.95 C 508.2,159.95 485.8,120.75 463.6,81.85 454.7,81.85 446.3,81.85 437.4,81.85 460.1,121.65 482.5,160.85 504.9,199.95 513.6,199.95 521.9,199.95 531.1,199.95 Z M 531.1,199.95'),
        p_o1 = path.path('M 493.6,109.4 C 516.6,148.4 539.1,187.7 562.1,227.3 584.8,187.6 606.9,148.4 629.4,109.4 583.8,109.4 539.3,109.4 493.6,109.4 Z M 527,128.4 C 550.9,128.4 572.5,128.4 596.3,128.4 584.5,149.4 574.35,168.34 562.25,189.64 550.05,168.44 538.9,149.4 527,128.4 Z M 527,128.4'),
        p_i1 = path.path('M 671.4,106.8 L 645.2,106.8 C 627.6,137.8 610.2,168.7 592.5,200 L 618.7,200 C 636,169.3 653.5,138.4 671.4,106.8 Z M 686.1,80.6 L 659.9,80.6 C 658,84.3 655.2,89.6 653.1,93.6 L 679,93.6 C 680.8,90.3 683.7,84.9 686.1,80.6 Z M 686.1,80.6'),
        p_a3 = path.path('M 772.4,200.05 C 749.6,160.15 726.4,120.35 703.8,80.95 680.7,120.75 657.5,160.45 634.6,199.95 L 724.9,199.95 C 721,193.55 717.7,187.95 713.9,181.75 L 667.4,181.75 C 679.4,161.05 690.8,141.45 702.8,120.85 718.4,148.15 733.4,174.15 748.3,200.05 755.6,200.05 764.3,200.05 772.4,200.05 Z M 772.4,200.05');
    path.stroke({color: 'none', width: 0}).fill('green');

    mask = aLogo.group();
    var m_a1 = mask.path('M 8.5,209 L 80.5,83.5 141.5,189.5 50,189.5'),
        m_l1 = mask.path('M 194,209 L 117,75'),
        m_e1 = mask.path('M268.166 103.6c-7 13-14.1 24.6-21.8 37.9-4.399-7.5-8.1-13.801-11.899-20.2 11.3-20 22.3-38.7 33.6-59.7h-90.1c22.899 40 45.399 78.2 68.399 117.7 14.7-25.7 29.167-49.7 43.667-75.7h-21.867zm-57.699-22h24.899c-3.899 7-7.5 13.601-11.8 21.4-4.5-7.501-8.4-13.4-13.099-21.4z');
    //m_x1 = mask.path('M333.812 101.8c13.2-22.9 25.888-44.949 39.288-68.05h-25.899c-9 15.101-17.271 30.069-26.372 45.569-4-6.7-7.43-12.569-10.83-18.369h-25.8c8 14 15.829 27.132 23.629 40.832-14.2 25.1-28.629 50.469-43.129 76.068h25.5c10-17.199 19.926-35.1 30.626-53.6 5.9 10.299 11.874 19.799 16.973 28.699h18l-.1-12.9c-7.698-13.099-14.686-25.948-21.886-38.249z'),
    //m_a2 = mask.path('M400.3 152.851c36.1.1 71 .1 107.2.1-27.2-46.799-53.8-92.7-80.9-139.4-24.3 42.4-47.8 84.102-72.1 126.5l.1 12.9h18.4c17.7-30.799 35.399-61.601 53.7-93.5 14.199 24.6 27.6 47.6 41.5 71.6h-54.9c-4.3 7.2-8.5 14.2-13 21.8z'),
    //m_l2 = mask.path('M549.1,152.95c-22.899-40-45.3-79.2-67.5-118.1c-8.899,0-17.3,0-26.199,0c22.699,39.8,45.1,79,67.5,118.1 C531.6,152.95,539.9,152.95,549.1,152.95z'),
    //m_o1 = mask.path('M513.6,62.399c23,39,45.5,78.3,68.5,117.9c22.699-39.7,44.801-78.9,67.301-117.9 C603.799,62.399,559.299,62.399,513.6,62.399z M547,81.399c23.9,0,45.5,0,69.299,0c-11.799,21-21.949,39.94-34.049,61.24 C570.049,121.439,558.9,102.399,547,81.399z'),
    //m_i1 = mask.path('M691.4 59.8h-26.2c-17.601 31-35 61.9-52.7 93.199h26.2c17.3-30.699 34.8-61.599 52.7-93.199zM706.1 33.601h-26.199c-1.9 3.7-4.7 9-6.801 13h25.9c1.8-3.301 4.7-8.701 7.1-13z');
//        m_a3 = mask.path('M790.4 153.051c-22.801-39.9-46-79.701-68.6-119.101-23.1 39.799-46.301 79.5-69.201 119h90.301c-3.9-6.398-7.199-12-11-18.199h-46.5c12-20.699 23.4-40.3 35.4-60.9 15.6 27.301 30.6 53.301 45.5 79.201 7.3-.001 16.001-.001 24.1-.001z');
    mask.stroke({color: '#000', width: 14}).fill('none');


    //animPath(m_a1, 1, 0);
    //animPath(m_l1, 1, 0);
    //animPath(m_e1, 1.5, 0);
    //animPath(p_x1, 1.5, 0);
    //animPath(p_a2, 1.5, 0);
    //animPath(p_l2, 1.5, 0);
    //animPath(p_o1, 1.5, 0);
    //animPath(p_i1, 1.5, 0);
    //animPath(p_a3, 1.5, 0);


    var aTri = SVG('aLogo2').size(800, 400),
        a1 = aTri.group(),
        a1_pieces = a1.group();

    var a1_mask = a1.path('M 67.48,177.42 C 63.18,184.62 58.2,192.5 53.8,199.9 L 160.8,199.9 C 133.8,153.3 107.2,107.5 80.1,60.7 53.2,107.6 26.8,153.6 0.1,200.2 L 27.3,200.2 C 44.9,169.5 62.15,139.83 80.45,107.93 94.65,132.43 107.13,153.49 121.03,177.39 102.03,177.39 85.48,177.42 67.48,177.42 Z M 67.48,177.42').fill('#fff');
    var a1_1 = a1_pieces.path('M 80.1,60.7 C 80.1,60.7 26.8,153.6 0.1,200.2 L 27.3,200.2 C 44.9,169.5 80.45,107.93 80.45,107.93 L 80.1,60.7 Z M 80.1,60.7');
        a1_2 = a1_pieces.path('M 160.8,199.9 C 133.8,153.3 80,60 80,60 L 80,106 121.03,177.39 160.8,199.9 Z M 160.8,199.9');
        a1_3 = a1_pieces.path('M 67.48,177.42 C 63.18,184.62 58.2,192.5 53.8,199.9 L 162,200 123,177 C 123,177 85.48,177.42 67.48,177.42 Z M 67.48,177.42');
        a1_pieces.fill('orange');
    a1_1.maskWith(a1_mask);


    var l1 = aTri.group(),
        l1_mask = l1.path('M 108.15,81.75 C 130.95,121.55 153.35,160.95 175.65,199.95 184.55,199.95 192.85,199.95 201.85,199.95 179.05,160.15 156.65,120.75 134.35,81.75 125.45,81.75 117.25,81.75 108.15,81.75 Z M 108.15,81.75').fill('green');
        l1_1 =  l1.path('M 108.15,81.75 C 130.95,121.55 153.35,160.95 175.65,199.95 184.55,199.95 192.85,199.95 201.85,199.95 179.05,160.15 156.65,120.75 134.35,81.75 125.45,81.75 117.25,81.75 108.15,81.75 Z M 108.15,81.75').fill('#fff');
    //
     l1_mask.maskWith(l1_1);


    var e = aTri.group(),
        e_pieces = e.group(),
        e_mask = e.path('M 222.17,149.6 C 215.17,162.6 208.07,174.2 200.37,187.5 195.97,180 192.27,173.7 188.47,167.3 199.77,147.3 210.77,128.6 222.07,107.6 L 131.97,107.6 C 154.87,147.6 177.37,185.8 200.37,225.3 215.07,199.6 229.53,175.6 244.03,149.6 L 222.17,149.6 Z M 164.47,127.6 L 189.37,127.6 C 185.47,134.6 181.87,141.2 177.57,149 173.07,141.5 169.17,135.6 164.47,127.6 Z M 164.47,127.6');


    var bbox = l1_1.bbox();
    console.log(bbox);

//    TweenLite.from(a1_1.node, 1, {x: '-=80', y: '+=140'});
//    TweenLite.from(a1_2.node, 1, {x: '-=80', y: '-=140'});
//    TweenLite.from(a1_3.node, 1, {x: '+=108'});
    TweenLite.from(l1_1.node, 2, {x: '-=65', y:'-=118'});


    //mask.maskWith(path);
};